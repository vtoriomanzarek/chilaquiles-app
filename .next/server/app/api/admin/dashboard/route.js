"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/admin/dashboard/route";
exports.ids = ["app/api/admin/dashboard/route"];
exports.modules = {

/***/ "@prisma/client":
/*!*********************************!*\
  !*** external "@prisma/client" ***!
  \*********************************/
/***/ ((module) => {

module.exports = require("@prisma/client");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("crypto");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

module.exports = require("stream");

/***/ }),

/***/ "util":
/*!***********************!*\
  !*** external "util" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("util");

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fdashboard%2Froute&page=%2Fapi%2Fadmin%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fdashboard%2Froute&page=%2Fapi%2Fadmin%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \***************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   headerHooks: () => (/* binding */ headerHooks),\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage),\n/* harmony export */   staticGenerationBailout: () => (/* binding */ staticGenerationBailout)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/node-polyfill-headers */ \"(rsc)/./node_modules/next/dist/server/node-polyfill-headers.js\");\n/* harmony import */ var next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_node_polyfill_headers__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var C_Users_USER_CascadeProjects_chilaquiles_app_src_app_api_admin_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/admin/dashboard/route.ts */ \"(rsc)/./src/app/api/admin/dashboard/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_1__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_2__.RouteKind.APP_ROUTE,\n        page: \"/api/admin/dashboard/route\",\n        pathname: \"/api/admin/dashboard\",\n        filename: \"route\",\n        bundlePath: \"app/api/admin/dashboard/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\USER\\\\CascadeProjects\\\\chilaquiles-app\\\\src\\\\app\\\\api\\\\admin\\\\dashboard\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_USER_CascadeProjects_chilaquiles_app_src_app_api_admin_dashboard_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks, headerHooks, staticGenerationBailout } = routeModule;\nconst originalPathname = \"/api/admin/dashboard/route\";\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZhZG1pbiUyRmRhc2hib2FyZCUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGYWRtaW4lMkZkYXNoYm9hcmQlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZhZG1pbiUyRmRhc2hib2FyZCUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNVU0VSJTVDQ2FzY2FkZVByb2plY3RzJTVDY2hpbGFxdWlsZXMtYXBwJTVDc3JjJTVDYXBwJnBhZ2VFeHRlbnNpb25zPXRzeCZwYWdlRXh0ZW5zaW9ucz10cyZwYWdlRXh0ZW5zaW9ucz1qc3gmcGFnZUV4dGVuc2lvbnM9anMmcm9vdERpcj1DJTNBJTVDVXNlcnMlNUNVU0VSJTVDQ2FzY2FkZVByb2plY3RzJTVDY2hpbGFxdWlsZXMtYXBwJmlzRGV2PXRydWUmdHNjb25maWdQYXRoPXRzY29uZmlnLmpzb24mYmFzZVBhdGg9JmFzc2V0UHJlZml4PSZuZXh0Q29uZmlnT3V0cHV0PSZwcmVmZXJyZWRSZWdpb249Jm1pZGRsZXdhcmVDb25maWc9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQWdEO0FBQ3NEO0FBQ3ZDO0FBQzBEO0FBQ3pIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsdUdBQXVHO0FBQy9HO0FBQ2lKOztBQUVqSiIsInNvdXJjZXMiOlsid2VicGFjazovL2NoaWxhcXVpbGVzLWFwcC8/NjYyMSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgXCJuZXh0L2Rpc3Qvc2VydmVyL25vZGUtcG9seWZpbGwtaGVhZGVyc1wiO1xuaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcVVNFUlxcXFxDYXNjYWRlUHJvamVjdHNcXFxcY2hpbGFxdWlsZXMtYXBwXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGFkbWluXFxcXGRhc2hib2FyZFxcXFxyb3V0ZS50c1wiO1xuLy8gV2UgaW5qZWN0IHRoZSBuZXh0Q29uZmlnT3V0cHV0IGhlcmUgc28gdGhhdCB3ZSBjYW4gdXNlIHRoZW0gaW4gdGhlIHJvdXRlXG4vLyBtb2R1bGUuXG5jb25zdCBuZXh0Q29uZmlnT3V0cHV0ID0gXCJcIlxuY29uc3Qgcm91dGVNb2R1bGUgPSBuZXcgQXBwUm91dGVSb3V0ZU1vZHVsZSh7XG4gICAgZGVmaW5pdGlvbjoge1xuICAgICAgICBraW5kOiBSb3V0ZUtpbmQuQVBQX1JPVVRFLFxuICAgICAgICBwYWdlOiBcIi9hcGkvYWRtaW4vZGFzaGJvYXJkL3JvdXRlXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYWRtaW4vZGFzaGJvYXJkXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9hZG1pbi9kYXNoYm9hcmQvcm91dGVcIlxuICAgIH0sXG4gICAgcmVzb2x2ZWRQYWdlUGF0aDogXCJDOlxcXFxVc2Vyc1xcXFxVU0VSXFxcXENhc2NhZGVQcm9qZWN0c1xcXFxjaGlsYXF1aWxlcy1hcHBcXFxcc3JjXFxcXGFwcFxcXFxhcGlcXFxcYWRtaW5cXFxcZGFzaGJvYXJkXFxcXHJvdXRlLnRzXCIsXG4gICAgbmV4dENvbmZpZ091dHB1dCxcbiAgICB1c2VybGFuZFxufSk7XG4vLyBQdWxsIG91dCB0aGUgZXhwb3J0cyB0aGF0IHdlIG5lZWQgdG8gZXhwb3NlIGZyb20gdGhlIG1vZHVsZS4gVGhpcyBzaG91bGRcbi8vIGJlIGVsaW1pbmF0ZWQgd2hlbiB3ZSd2ZSBtb3ZlZCB0aGUgb3RoZXIgcm91dGVzIHRvIHRoZSBuZXcgZm9ybWF0LiBUaGVzZVxuLy8gYXJlIHVzZWQgdG8gaG9vayBpbnRvIHRoZSByb3V0ZS5cbmNvbnN0IHsgcmVxdWVzdEFzeW5jU3RvcmFnZSwgc3RhdGljR2VuZXJhdGlvbkFzeW5jU3RvcmFnZSwgc2VydmVySG9va3MsIGhlYWRlckhvb2tzLCBzdGF0aWNHZW5lcmF0aW9uQmFpbG91dCB9ID0gcm91dGVNb2R1bGU7XG5jb25zdCBvcmlnaW5hbFBhdGhuYW1lID0gXCIvYXBpL2FkbWluL2Rhc2hib2FyZC9yb3V0ZVwiO1xuZXhwb3J0IHsgcm91dGVNb2R1bGUsIHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzLCBoZWFkZXJIb29rcywgc3RhdGljR2VuZXJhdGlvbkJhaWxvdXQsIG9yaWdpbmFsUGF0aG5hbWUsICB9O1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1hcHAtcm91dGUuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fdashboard%2Froute&page=%2Fapi%2Fadmin%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/admin/dashboard/route.ts":
/*!**********************************************!*\
  !*** ./src/app/api/admin/dashboard/route.ts ***!
  \**********************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   GET: () => (/* binding */ GET)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/web/exports/next-response */ \"(rsc)/./node_modules/next/dist/server/web/exports/next-response.js\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @prisma/client */ \"@prisma/client\");\n/* harmony import */ var _prisma_client__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_prisma_client__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! jsonwebtoken */ \"(rsc)/./node_modules/jsonwebtoken/index.js\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst prisma = new _prisma_client__WEBPACK_IMPORTED_MODULE_1__.PrismaClient();\nconst JWT_SECRET = process.env.JWT_SECRET || \"chilaquiles-secret-key-change-in-production\";\nasync function GET(request) {\n    try {\n        // Obtener token de autorización\n        const authHeader = request.headers.get(\"Authorization\");\n        if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Token no proporcionado\"\n            }, {\n                status: 401\n            });\n        }\n        const token = authHeader.split(\" \")[1];\n        // Verificar token\n        let decoded;\n        try {\n            decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_2___default().verify(token, JWT_SECRET);\n        } catch (error) {\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Token inv\\xe1lido\"\n            }, {\n                status: 401\n            });\n        }\n        // Obtener rol del usuario\n        const userRole = decoded.role;\n        // Datos comunes para todos los roles\n        const totalOrders = await prisma.order.count();\n        const pendingOrders = await prisma.order.count({\n            where: {\n                status: \"PENDING\"\n            }\n        });\n        const preparingOrders = await prisma.order.count({\n            where: {\n                status: \"PREPARING\"\n            }\n        });\n        const readyOrders = await prisma.order.count({\n            where: {\n                status: \"READY\"\n            }\n        });\n        const deliveredOrders = await prisma.order.count({\n            where: {\n                status: \"DELIVERED\"\n            }\n        });\n        // Calcular ventas totales\n        const totalSales = await prisma.order.aggregate({\n            _sum: {\n                total: true\n            }\n        });\n        // Datos específicos según el rol\n        if (userRole === \"ADMIN\") {\n            // Para administradores: todos los datos\n            const recentOrders = await prisma.order.findMany({\n                take: 5,\n                orderBy: {\n                    createdAt: \"desc\"\n                },\n                include: {\n                    items: {\n                        include: {\n                            product: true\n                        }\n                    }\n                }\n            });\n            const topProducts = await prisma.orderItem.groupBy({\n                by: [\n                    \"productId\"\n                ],\n                _sum: {\n                    quantity: true\n                },\n                orderBy: {\n                    _sum: {\n                        quantity: \"desc\"\n                    }\n                },\n                take: 5\n            });\n            // Obtener detalles de los productos más vendidos\n            const productIds = topProducts.map((item)=>item.productId);\n            const productDetails = await prisma.product.findMany({\n                where: {\n                    id: {\n                        in: productIds\n                    }\n                }\n            });\n            // Combinar datos de productos más vendidos\n            const topProductsWithDetails = topProducts.map((item)=>{\n                const product = productDetails.find((p)=>p.id === item.productId);\n                return {\n                    id: item.productId,\n                    name: product?.name || \"Producto desconocido\",\n                    quantity: item._sum.quantity,\n                    price: product?.price || 0\n                };\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                role: userRole,\n                stats: {\n                    totalOrders,\n                    pendingOrders,\n                    preparingOrders,\n                    readyOrders,\n                    deliveredOrders,\n                    totalSales: totalSales._sum.total || 0\n                },\n                recentOrders,\n                topProducts: topProductsWithDetails\n            });\n        } else if (userRole === \"KITCHEN\") {\n            // Para cocina: pedidos pendientes y en preparación\n            const pendingAndPreparingOrders = await prisma.order.findMany({\n                where: {\n                    status: {\n                        in: [\n                            \"PENDING\",\n                            \"PAID\",\n                            \"PREPARING\"\n                        ]\n                    }\n                },\n                orderBy: {\n                    createdAt: \"asc\"\n                },\n                include: {\n                    items: {\n                        include: {\n                            product: true\n                        }\n                    }\n                }\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                role: userRole,\n                stats: {\n                    pendingOrders,\n                    preparingOrders,\n                    readyOrders\n                },\n                orders: pendingAndPreparingOrders\n            });\n        } else if (userRole === \"WAITER\") {\n            // Para meseros: pedidos listos para entregar\n            const readyOrdersList = await prisma.order.findMany({\n                where: {\n                    status: \"READY\"\n                },\n                orderBy: {\n                    createdAt: \"asc\"\n                },\n                include: {\n                    items: {\n                        include: {\n                            product: true\n                        }\n                    }\n                }\n            });\n            // Para propósitos de prueba, vamos a establecer manualmente el contador de pedidos entregados hoy\n            // Esto es temporal para mostrar que el contador funciona\n            // Obtener todos los pedidos entregados para depuración\n            const allDeliveredOrders = await prisma.order.findMany({\n                where: {\n                    status: \"DELIVERED\"\n                },\n                select: {\n                    id: true,\n                    status: true,\n                    updatedAt: true,\n                    createdAt: true\n                }\n            });\n            console.log(\"Todos los pedidos entregados:\", JSON.stringify(allDeliveredOrders, null, 2));\n            // Contar los pedidos entregados hoy (comparando la fecha)\n            const today = new Date();\n            const startOfToday = new Date(today.getFullYear(), today.getMonth(), today.getDate());\n            const deliveredToday = allDeliveredOrders.filter((order)=>{\n                const orderDate = new Date(order.updatedAt); // Usamos updatedAt porque es cuando se marcó como entregado\n                return orderDate >= startOfToday;\n            }).length;\n            console.log(\"Pedidos entregados hoy (para demostraci\\xf3n):\", deliveredToday);\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                role: userRole,\n                stats: {\n                    readyOrders: readyOrdersList.length,\n                    deliveredOrders: deliveredOrders,\n                    deliveredToday: deliveredToday // Número de entregados hoy\n                },\n                orders: readyOrdersList\n            });\n        } else if (userRole === \"STAFF\") {\n            // Para caja: pedidos pendientes de pago y resumen de ventas\n            const pendingPaymentOrders = await prisma.order.findMany({\n                where: {\n                    status: \"PENDING\"\n                },\n                orderBy: {\n                    createdAt: \"asc\"\n                },\n                include: {\n                    items: {\n                        include: {\n                            product: true\n                        }\n                    }\n                }\n            });\n            // Ventas del día\n            const today = new Date();\n            today.setHours(0, 0, 0, 0);\n            const todaySales = await prisma.order.aggregate({\n                where: {\n                    createdAt: {\n                        gte: today\n                    },\n                    status: {\n                        in: [\n                            \"PAID\",\n                            \"PREPARING\",\n                            \"READY\",\n                            \"DELIVERED\"\n                        ]\n                    }\n                },\n                _sum: {\n                    total: true\n                }\n            });\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                role: userRole,\n                stats: {\n                    pendingOrders,\n                    totalOrders,\n                    todaySales: todaySales._sum.total || 0,\n                    totalSales: totalSales._sum.total || 0\n                },\n                orders: pendingPaymentOrders\n            });\n        } else {\n            // Rol no reconocido\n            return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n                error: \"Rol no autorizado\"\n            }, {\n                status: 403\n            });\n        }\n    } catch (error) {\n        console.error(\"Error en dashboard:\", error);\n        return next_dist_server_web_exports_next_response__WEBPACK_IMPORTED_MODULE_0__[\"default\"].json({\n            error: \"Error interno del servidor\"\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9hZG1pbi9kYXNoYm9hcmQvcm91dGUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7O0FBQTBDO0FBQ0c7QUFDZjtBQUU5QixNQUFNRyxTQUFTLElBQUlGLHdEQUFZQTtBQUMvQixNQUFNRyxhQUFhQyxRQUFRQyxHQUFHLENBQUNGLFVBQVUsSUFBSTtBQUV0QyxlQUFlRyxJQUFJQyxPQUFnQjtJQUN4QyxJQUFJO1FBQ0YsZ0NBQWdDO1FBQ2hDLE1BQU1DLGFBQWFELFFBQVFFLE9BQU8sQ0FBQ0MsR0FBRyxDQUFDO1FBQ3ZDLElBQUksQ0FBQ0YsY0FBYyxDQUFDQSxXQUFXRyxVQUFVLENBQUMsWUFBWTtZQUNwRCxPQUFPWixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQXlCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUM5RTtRQUVBLE1BQU1DLFFBQVFQLFdBQVdRLEtBQUssQ0FBQyxJQUFJLENBQUMsRUFBRTtRQUV0QyxrQkFBa0I7UUFDbEIsSUFBSUM7UUFDSixJQUFJO1lBQ0ZBLFVBQVVoQiwwREFBVSxDQUFDYyxPQUFPWjtRQUM5QixFQUFFLE9BQU9VLE9BQU87WUFDZCxPQUFPZCxrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQWlCLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN0RTtRQUVBLDBCQUEwQjtRQUMxQixNQUFNSyxXQUFXRixRQUFRRyxJQUFJO1FBRTdCLHFDQUFxQztRQUNyQyxNQUFNQyxjQUFjLE1BQU1uQixPQUFPb0IsS0FBSyxDQUFDQyxLQUFLO1FBQzVDLE1BQU1DLGdCQUFnQixNQUFNdEIsT0FBT29CLEtBQUssQ0FBQ0MsS0FBSyxDQUFDO1lBQzdDRSxPQUFPO2dCQUFFWCxRQUFRO1lBQVU7UUFDN0I7UUFDQSxNQUFNWSxrQkFBa0IsTUFBTXhCLE9BQU9vQixLQUFLLENBQUNDLEtBQUssQ0FBQztZQUMvQ0UsT0FBTztnQkFBRVgsUUFBUTtZQUFZO1FBQy9CO1FBQ0EsTUFBTWEsY0FBYyxNQUFNekIsT0FBT29CLEtBQUssQ0FBQ0MsS0FBSyxDQUFDO1lBQzNDRSxPQUFPO2dCQUFFWCxRQUFRO1lBQVE7UUFDM0I7UUFDQSxNQUFNYyxrQkFBa0IsTUFBTTFCLE9BQU9vQixLQUFLLENBQUNDLEtBQUssQ0FBQztZQUMvQ0UsT0FBTztnQkFBRVgsUUFBUTtZQUFZO1FBQy9CO1FBRUEsMEJBQTBCO1FBQzFCLE1BQU1lLGFBQWEsTUFBTTNCLE9BQU9vQixLQUFLLENBQUNRLFNBQVMsQ0FBQztZQUM5Q0MsTUFBTTtnQkFDSkMsT0FBTztZQUNUO1FBQ0Y7UUFFQSxpQ0FBaUM7UUFDakMsSUFBSWIsYUFBYSxTQUFTO1lBQ3hCLHdDQUF3QztZQUN4QyxNQUFNYyxlQUFlLE1BQU0vQixPQUFPb0IsS0FBSyxDQUFDWSxRQUFRLENBQUM7Z0JBQy9DQyxNQUFNO2dCQUNOQyxTQUFTO29CQUFFQyxXQUFXO2dCQUFPO2dCQUM3QkMsU0FBUztvQkFDUEMsT0FBTzt3QkFDTEQsU0FBUzs0QkFDUEUsU0FBUzt3QkFDWDtvQkFDRjtnQkFDRjtZQUNGO1lBRUEsTUFBTUMsY0FBYyxNQUFNdkMsT0FBT3dDLFNBQVMsQ0FBQ0MsT0FBTyxDQUFDO2dCQUNqREMsSUFBSTtvQkFBQztpQkFBWTtnQkFDakJiLE1BQU07b0JBQ0pjLFVBQVU7Z0JBQ1o7Z0JBQ0FULFNBQVM7b0JBQ1BMLE1BQU07d0JBQ0pjLFVBQVU7b0JBQ1o7Z0JBQ0Y7Z0JBQ0FWLE1BQU07WUFDUjtZQUVBLGlEQUFpRDtZQUNqRCxNQUFNVyxhQUFhTCxZQUFZTSxHQUFHLENBQUNDLENBQUFBLE9BQVFBLEtBQUtDLFNBQVM7WUFDekQsTUFBTUMsaUJBQWlCLE1BQU1oRCxPQUFPc0MsT0FBTyxDQUFDTixRQUFRLENBQUM7Z0JBQ25EVCxPQUFPO29CQUNMMEIsSUFBSTt3QkFDRkMsSUFBSU47b0JBQ047Z0JBQ0Y7WUFDRjtZQUVBLDJDQUEyQztZQUMzQyxNQUFNTyx5QkFBeUJaLFlBQVlNLEdBQUcsQ0FBQ0MsQ0FBQUE7Z0JBQzdDLE1BQU1SLFVBQVVVLGVBQWVJLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0EsRUFBRUosRUFBRSxLQUFLSCxLQUFLQyxTQUFTO2dCQUNoRSxPQUFPO29CQUNMRSxJQUFJSCxLQUFLQyxTQUFTO29CQUNsQk8sTUFBTWhCLFNBQVNnQixRQUFRO29CQUN2QlgsVUFBVUcsS0FBS2pCLElBQUksQ0FBQ2MsUUFBUTtvQkFDNUJZLE9BQU9qQixTQUFTaUIsU0FBUztnQkFDM0I7WUFDRjtZQUVBLE9BQU8xRCxrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUN2QlEsTUFBTUQ7Z0JBQ051QyxPQUFPO29CQUNMckM7b0JBQ0FHO29CQUNBRTtvQkFDQUM7b0JBQ0FDO29CQUNBQyxZQUFZQSxXQUFXRSxJQUFJLENBQUNDLEtBQUssSUFBSTtnQkFDdkM7Z0JBQ0FDO2dCQUNBUSxhQUFhWTtZQUNmO1FBQ0YsT0FDSyxJQUFJbEMsYUFBYSxXQUFXO1lBQy9CLG1EQUFtRDtZQUNuRCxNQUFNd0MsNEJBQTRCLE1BQU16RCxPQUFPb0IsS0FBSyxDQUFDWSxRQUFRLENBQUM7Z0JBQzVEVCxPQUFPO29CQUNMWCxRQUFRO3dCQUNOc0MsSUFBSTs0QkFBQzs0QkFBVzs0QkFBUTt5QkFBWTtvQkFDdEM7Z0JBQ0Y7Z0JBQ0FoQixTQUFTO29CQUFFQyxXQUFXO2dCQUFNO2dCQUM1QkMsU0FBUztvQkFDUEMsT0FBTzt3QkFDTEQsU0FBUzs0QkFDUEUsU0FBUzt3QkFDWDtvQkFDRjtnQkFDRjtZQUNGO1lBRUEsT0FBT3pDLGtGQUFZQSxDQUFDYSxJQUFJLENBQUM7Z0JBQ3ZCUSxNQUFNRDtnQkFDTnVDLE9BQU87b0JBQ0xsQztvQkFDQUU7b0JBQ0FDO2dCQUNGO2dCQUNBaUMsUUFBUUQ7WUFDVjtRQUNGLE9BQ0ssSUFBSXhDLGFBQWEsVUFBVTtZQUM5Qiw2Q0FBNkM7WUFDN0MsTUFBTTBDLGtCQUFrQixNQUFNM0QsT0FBT29CLEtBQUssQ0FBQ1ksUUFBUSxDQUFDO2dCQUNsRFQsT0FBTztvQkFDTFgsUUFBUTtnQkFDVjtnQkFDQXNCLFNBQVM7b0JBQUVDLFdBQVc7Z0JBQU07Z0JBQzVCQyxTQUFTO29CQUNQQyxPQUFPO3dCQUNMRCxTQUFTOzRCQUNQRSxTQUFTO3dCQUNYO29CQUNGO2dCQUNGO1lBQ0Y7WUFFQSxrR0FBa0c7WUFDbEcseURBQXlEO1lBRXpELHVEQUF1RDtZQUN2RCxNQUFNc0IscUJBQXFCLE1BQU01RCxPQUFPb0IsS0FBSyxDQUFDWSxRQUFRLENBQUM7Z0JBQ3JEVCxPQUFPO29CQUNMWCxRQUFRO2dCQUNWO2dCQUNBaUQsUUFBUTtvQkFDTlosSUFBSTtvQkFDSnJDLFFBQVE7b0JBQ1JrRCxXQUFXO29CQUNYM0IsV0FBVztnQkFDYjtZQUNGO1lBRUE0QixRQUFRQyxHQUFHLENBQUMsaUNBQWlDQyxLQUFLQyxTQUFTLENBQUNOLG9CQUFvQixNQUFNO1lBRXRGLDBEQUEwRDtZQUMxRCxNQUFNTyxRQUFRLElBQUlDO1lBQ2xCLE1BQU1DLGVBQWUsSUFBSUQsS0FBS0QsTUFBTUcsV0FBVyxJQUFJSCxNQUFNSSxRQUFRLElBQUlKLE1BQU1LLE9BQU87WUFFbEYsTUFBTUMsaUJBQWlCYixtQkFBbUJjLE1BQU0sQ0FBQyxDQUFDdEQ7Z0JBQ2hELE1BQU11RCxZQUFZLElBQUlQLEtBQUtoRCxNQUFNMEMsU0FBUyxHQUFHLDREQUE0RDtnQkFDekcsT0FBT2EsYUFBYU47WUFDdEIsR0FBR08sTUFBTTtZQUVUYixRQUFRQyxHQUFHLENBQUMsa0RBQStDUztZQUUzRCxPQUFPNUUsa0ZBQVlBLENBQUNhLElBQUksQ0FBQztnQkFDdkJRLE1BQU1EO2dCQUNOdUMsT0FBTztvQkFDTC9CLGFBQWFrQyxnQkFBZ0JpQixNQUFNO29CQUNuQ2xELGlCQUFpQkE7b0JBQ2pCK0MsZ0JBQWdCQSxlQUF1QiwyQkFBMkI7Z0JBQ3BFO2dCQUNBZixRQUFRQztZQUNWO1FBQ0YsT0FDSyxJQUFJMUMsYUFBYSxTQUFTO1lBQzdCLDREQUE0RDtZQUM1RCxNQUFNNEQsdUJBQXVCLE1BQU03RSxPQUFPb0IsS0FBSyxDQUFDWSxRQUFRLENBQUM7Z0JBQ3ZEVCxPQUFPO29CQUNMWCxRQUFRO2dCQUNWO2dCQUNBc0IsU0FBUztvQkFBRUMsV0FBVztnQkFBTTtnQkFDNUJDLFNBQVM7b0JBQ1BDLE9BQU87d0JBQ0xELFNBQVM7NEJBQ1BFLFNBQVM7d0JBQ1g7b0JBQ0Y7Z0JBQ0Y7WUFDRjtZQUVBLGlCQUFpQjtZQUNqQixNQUFNNkIsUUFBUSxJQUFJQztZQUNsQkQsTUFBTVcsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHO1lBRXhCLE1BQU1DLGFBQWEsTUFBTS9FLE9BQU9vQixLQUFLLENBQUNRLFNBQVMsQ0FBQztnQkFDOUNMLE9BQU87b0JBQ0xZLFdBQVc7d0JBQ1Q2QyxLQUFLYjtvQkFDUDtvQkFDQXZELFFBQVE7d0JBQ05zQyxJQUFJOzRCQUFDOzRCQUFROzRCQUFhOzRCQUFTO3lCQUFZO29CQUNqRDtnQkFDRjtnQkFDQXJCLE1BQU07b0JBQ0pDLE9BQU87Z0JBQ1Q7WUFDRjtZQUVBLE9BQU9qQyxrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUN2QlEsTUFBTUQ7Z0JBQ051QyxPQUFPO29CQUNMbEM7b0JBQ0FIO29CQUNBNEQsWUFBWUEsV0FBV2xELElBQUksQ0FBQ0MsS0FBSyxJQUFJO29CQUNyQ0gsWUFBWUEsV0FBV0UsSUFBSSxDQUFDQyxLQUFLLElBQUk7Z0JBQ3ZDO2dCQUNBNEIsUUFBUW1CO1lBQ1Y7UUFDRixPQUNLO1lBQ0gsb0JBQW9CO1lBQ3BCLE9BQU9oRixrRkFBWUEsQ0FBQ2EsSUFBSSxDQUFDO2dCQUFFQyxPQUFPO1lBQW9CLEdBQUc7Z0JBQUVDLFFBQVE7WUFBSTtRQUN6RTtJQUNGLEVBQUUsT0FBT0QsT0FBTztRQUNkb0QsUUFBUXBELEtBQUssQ0FBQyx1QkFBdUJBO1FBQ3JDLE9BQU9kLGtGQUFZQSxDQUFDYSxJQUFJLENBQUM7WUFBRUMsT0FBTztRQUE2QixHQUFHO1lBQUVDLFFBQVE7UUFBSTtJQUNsRjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vY2hpbGFxdWlsZXMtYXBwLy4vc3JjL2FwcC9hcGkvYWRtaW4vZGFzaGJvYXJkL3JvdXRlLnRzPzMzM2YiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTmV4dFJlc3BvbnNlIH0gZnJvbSAnbmV4dC9zZXJ2ZXInXG5pbXBvcnQgeyBQcmlzbWFDbGllbnQgfSBmcm9tICdAcHJpc21hL2NsaWVudCdcbmltcG9ydCBqd3QgZnJvbSAnanNvbndlYnRva2VuJ1xuXG5jb25zdCBwcmlzbWEgPSBuZXcgUHJpc21hQ2xpZW50KClcbmNvbnN0IEpXVF9TRUNSRVQgPSBwcm9jZXNzLmVudi5KV1RfU0VDUkVUIHx8ICdjaGlsYXF1aWxlcy1zZWNyZXQta2V5LWNoYW5nZS1pbi1wcm9kdWN0aW9uJ1xuXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gR0VUKHJlcXVlc3Q6IFJlcXVlc3QpIHtcbiAgdHJ5IHtcbiAgICAvLyBPYnRlbmVyIHRva2VuIGRlIGF1dG9yaXphY2nDs25cbiAgICBjb25zdCBhdXRoSGVhZGVyID0gcmVxdWVzdC5oZWFkZXJzLmdldCgnQXV0aG9yaXphdGlvbicpXG4gICAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoJ0JlYXJlciAnKSkge1xuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHsgZXJyb3I6ICdUb2tlbiBubyBwcm9wb3JjaW9uYWRvJyB9LCB7IHN0YXR1czogNDAxIH0pXG4gICAgfVxuXG4gICAgY29uc3QgdG9rZW4gPSBhdXRoSGVhZGVyLnNwbGl0KCcgJylbMV1cbiAgICBcbiAgICAvLyBWZXJpZmljYXIgdG9rZW5cbiAgICBsZXQgZGVjb2RlZDogYW55XG4gICAgdHJ5IHtcbiAgICAgIGRlY29kZWQgPSBqd3QudmVyaWZ5KHRva2VuLCBKV1RfU0VDUkVUKVxuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oeyBlcnJvcjogJ1Rva2VuIGludsOhbGlkbycgfSwgeyBzdGF0dXM6IDQwMSB9KVxuICAgIH1cblxuICAgIC8vIE9idGVuZXIgcm9sIGRlbCB1c3VhcmlvXG4gICAgY29uc3QgdXNlclJvbGUgPSBkZWNvZGVkLnJvbGVcblxuICAgIC8vIERhdG9zIGNvbXVuZXMgcGFyYSB0b2RvcyBsb3Mgcm9sZXNcbiAgICBjb25zdCB0b3RhbE9yZGVycyA9IGF3YWl0IHByaXNtYS5vcmRlci5jb3VudCgpXG4gICAgY29uc3QgcGVuZGluZ09yZGVycyA9IGF3YWl0IHByaXNtYS5vcmRlci5jb3VudCh7XG4gICAgICB3aGVyZTogeyBzdGF0dXM6ICdQRU5ESU5HJyB9XG4gICAgfSlcbiAgICBjb25zdCBwcmVwYXJpbmdPcmRlcnMgPSBhd2FpdCBwcmlzbWEub3JkZXIuY291bnQoe1xuICAgICAgd2hlcmU6IHsgc3RhdHVzOiAnUFJFUEFSSU5HJyB9XG4gICAgfSlcbiAgICBjb25zdCByZWFkeU9yZGVycyA9IGF3YWl0IHByaXNtYS5vcmRlci5jb3VudCh7XG4gICAgICB3aGVyZTogeyBzdGF0dXM6ICdSRUFEWScgfVxuICAgIH0pXG4gICAgY29uc3QgZGVsaXZlcmVkT3JkZXJzID0gYXdhaXQgcHJpc21hLm9yZGVyLmNvdW50KHtcbiAgICAgIHdoZXJlOiB7IHN0YXR1czogJ0RFTElWRVJFRCcgfVxuICAgIH0pXG5cbiAgICAvLyBDYWxjdWxhciB2ZW50YXMgdG90YWxlc1xuICAgIGNvbnN0IHRvdGFsU2FsZXMgPSBhd2FpdCBwcmlzbWEub3JkZXIuYWdncmVnYXRlKHtcbiAgICAgIF9zdW06IHtcbiAgICAgICAgdG90YWw6IHRydWVcbiAgICAgIH1cbiAgICB9KVxuXG4gICAgLy8gRGF0b3MgZXNwZWPDrWZpY29zIHNlZ8O6biBlbCByb2xcbiAgICBpZiAodXNlclJvbGUgPT09ICdBRE1JTicpIHtcbiAgICAgIC8vIFBhcmEgYWRtaW5pc3RyYWRvcmVzOiB0b2RvcyBsb3MgZGF0b3NcbiAgICAgIGNvbnN0IHJlY2VudE9yZGVycyA9IGF3YWl0IHByaXNtYS5vcmRlci5maW5kTWFueSh7XG4gICAgICAgIHRha2U6IDUsXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnZGVzYycgfSxcbiAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgIGl0ZW1zOiB7XG4gICAgICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgICAgIHByb2R1Y3Q6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIGNvbnN0IHRvcFByb2R1Y3RzID0gYXdhaXQgcHJpc21hLm9yZGVySXRlbS5ncm91cEJ5KHtcbiAgICAgICAgYnk6IFsncHJvZHVjdElkJ10sXG4gICAgICAgIF9zdW06IHtcbiAgICAgICAgICBxdWFudGl0eTogdHJ1ZVxuICAgICAgICB9LFxuICAgICAgICBvcmRlckJ5OiB7XG4gICAgICAgICAgX3N1bToge1xuICAgICAgICAgICAgcXVhbnRpdHk6ICdkZXNjJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdGFrZTogNVxuICAgICAgfSlcblxuICAgICAgLy8gT2J0ZW5lciBkZXRhbGxlcyBkZSBsb3MgcHJvZHVjdG9zIG3DoXMgdmVuZGlkb3NcbiAgICAgIGNvbnN0IHByb2R1Y3RJZHMgPSB0b3BQcm9kdWN0cy5tYXAoaXRlbSA9PiBpdGVtLnByb2R1Y3RJZClcbiAgICAgIGNvbnN0IHByb2R1Y3REZXRhaWxzID0gYXdhaXQgcHJpc21hLnByb2R1Y3QuZmluZE1hbnkoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGlkOiB7XG4gICAgICAgICAgICBpbjogcHJvZHVjdElkc1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgLy8gQ29tYmluYXIgZGF0b3MgZGUgcHJvZHVjdG9zIG3DoXMgdmVuZGlkb3NcbiAgICAgIGNvbnN0IHRvcFByb2R1Y3RzV2l0aERldGFpbHMgPSB0b3BQcm9kdWN0cy5tYXAoaXRlbSA9PiB7XG4gICAgICAgIGNvbnN0IHByb2R1Y3QgPSBwcm9kdWN0RGV0YWlscy5maW5kKHAgPT4gcC5pZCA9PT0gaXRlbS5wcm9kdWN0SWQpXG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgaWQ6IGl0ZW0ucHJvZHVjdElkLFxuICAgICAgICAgIG5hbWU6IHByb2R1Y3Q/Lm5hbWUgfHwgJ1Byb2R1Y3RvIGRlc2Nvbm9jaWRvJyxcbiAgICAgICAgICBxdWFudGl0eTogaXRlbS5fc3VtLnF1YW50aXR5LFxuICAgICAgICAgIHByaWNlOiBwcm9kdWN0Py5wcmljZSB8fCAwXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHJvbGU6IHVzZXJSb2xlLFxuICAgICAgICBzdGF0czoge1xuICAgICAgICAgIHRvdGFsT3JkZXJzLFxuICAgICAgICAgIHBlbmRpbmdPcmRlcnMsXG4gICAgICAgICAgcHJlcGFyaW5nT3JkZXJzLFxuICAgICAgICAgIHJlYWR5T3JkZXJzLFxuICAgICAgICAgIGRlbGl2ZXJlZE9yZGVycyxcbiAgICAgICAgICB0b3RhbFNhbGVzOiB0b3RhbFNhbGVzLl9zdW0udG90YWwgfHwgMFxuICAgICAgICB9LFxuICAgICAgICByZWNlbnRPcmRlcnMsXG4gICAgICAgIHRvcFByb2R1Y3RzOiB0b3BQcm9kdWN0c1dpdGhEZXRhaWxzXG4gICAgICB9KVxuICAgIH0gXG4gICAgZWxzZSBpZiAodXNlclJvbGUgPT09ICdLSVRDSEVOJykge1xuICAgICAgLy8gUGFyYSBjb2NpbmE6IHBlZGlkb3MgcGVuZGllbnRlcyB5IGVuIHByZXBhcmFjacOzblxuICAgICAgY29uc3QgcGVuZGluZ0FuZFByZXBhcmluZ09yZGVycyA9IGF3YWl0IHByaXNtYS5vcmRlci5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICBpbjogWydQRU5ESU5HJywgJ1BBSUQnLCAnUFJFUEFSSU5HJ11cbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnYXNjJyB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgcHJvZHVjdDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgcm9sZTogdXNlclJvbGUsXG4gICAgICAgIHN0YXRzOiB7XG4gICAgICAgICAgcGVuZGluZ09yZGVycyxcbiAgICAgICAgICBwcmVwYXJpbmdPcmRlcnMsXG4gICAgICAgICAgcmVhZHlPcmRlcnNcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJzOiBwZW5kaW5nQW5kUHJlcGFyaW5nT3JkZXJzXG4gICAgICB9KVxuICAgIH0gXG4gICAgZWxzZSBpZiAodXNlclJvbGUgPT09ICdXQUlURVInKSB7XG4gICAgICAvLyBQYXJhIG1lc2Vyb3M6IHBlZGlkb3MgbGlzdG9zIHBhcmEgZW50cmVnYXJcbiAgICAgIGNvbnN0IHJlYWR5T3JkZXJzTGlzdCA9IGF3YWl0IHByaXNtYS5vcmRlci5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc3RhdHVzOiAnUkVBRFknXG4gICAgICAgIH0sXG4gICAgICAgIG9yZGVyQnk6IHsgY3JlYXRlZEF0OiAnYXNjJyB9LFxuICAgICAgICBpbmNsdWRlOiB7XG4gICAgICAgICAgaXRlbXM6IHtcbiAgICAgICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICAgICAgcHJvZHVjdDogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIFxuICAgICAgLy8gUGFyYSBwcm9ww7NzaXRvcyBkZSBwcnVlYmEsIHZhbW9zIGEgZXN0YWJsZWNlciBtYW51YWxtZW50ZSBlbCBjb250YWRvciBkZSBwZWRpZG9zIGVudHJlZ2Fkb3MgaG95XG4gICAgICAvLyBFc3RvIGVzIHRlbXBvcmFsIHBhcmEgbW9zdHJhciBxdWUgZWwgY29udGFkb3IgZnVuY2lvbmFcbiAgICAgIFxuICAgICAgLy8gT2J0ZW5lciB0b2RvcyBsb3MgcGVkaWRvcyBlbnRyZWdhZG9zIHBhcmEgZGVwdXJhY2nDs25cbiAgICAgIGNvbnN0IGFsbERlbGl2ZXJlZE9yZGVycyA9IGF3YWl0IHByaXNtYS5vcmRlci5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc3RhdHVzOiAnREVMSVZFUkVEJ1xuICAgICAgICB9LFxuICAgICAgICBzZWxlY3Q6IHtcbiAgICAgICAgICBpZDogdHJ1ZSxcbiAgICAgICAgICBzdGF0dXM6IHRydWUsXG4gICAgICAgICAgdXBkYXRlZEF0OiB0cnVlLFxuICAgICAgICAgIGNyZWF0ZWRBdDogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnVG9kb3MgbG9zIHBlZGlkb3MgZW50cmVnYWRvczonLCBKU09OLnN0cmluZ2lmeShhbGxEZWxpdmVyZWRPcmRlcnMsIG51bGwsIDIpKVxuICAgICAgXG4gICAgICAvLyBDb250YXIgbG9zIHBlZGlkb3MgZW50cmVnYWRvcyBob3kgKGNvbXBhcmFuZG8gbGEgZmVjaGEpXG4gICAgICBjb25zdCB0b2RheSA9IG5ldyBEYXRlKCk7XG4gICAgICBjb25zdCBzdGFydE9mVG9kYXkgPSBuZXcgRGF0ZSh0b2RheS5nZXRGdWxsWWVhcigpLCB0b2RheS5nZXRNb250aCgpLCB0b2RheS5nZXREYXRlKCkpO1xuICAgICAgXG4gICAgICBjb25zdCBkZWxpdmVyZWRUb2RheSA9IGFsbERlbGl2ZXJlZE9yZGVycy5maWx0ZXIoKG9yZGVyOiBhbnkpID0+IHtcbiAgICAgICAgY29uc3Qgb3JkZXJEYXRlID0gbmV3IERhdGUob3JkZXIudXBkYXRlZEF0KTsgLy8gVXNhbW9zIHVwZGF0ZWRBdCBwb3JxdWUgZXMgY3VhbmRvIHNlIG1hcmPDsyBjb21vIGVudHJlZ2Fkb1xuICAgICAgICByZXR1cm4gb3JkZXJEYXRlID49IHN0YXJ0T2ZUb2RheTtcbiAgICAgIH0pLmxlbmd0aFxuICAgICAgXG4gICAgICBjb25zb2xlLmxvZygnUGVkaWRvcyBlbnRyZWdhZG9zIGhveSAocGFyYSBkZW1vc3RyYWNpw7NuKTonLCBkZWxpdmVyZWRUb2RheSlcblxuICAgICAgcmV0dXJuIE5leHRSZXNwb25zZS5qc29uKHtcbiAgICAgICAgcm9sZTogdXNlclJvbGUsXG4gICAgICAgIHN0YXRzOiB7XG4gICAgICAgICAgcmVhZHlPcmRlcnM6IHJlYWR5T3JkZXJzTGlzdC5sZW5ndGgsICAvLyBOw7ptZXJvLCBubyBlbCBhcnJheSBjb21wbGV0b1xuICAgICAgICAgIGRlbGl2ZXJlZE9yZGVyczogZGVsaXZlcmVkT3JkZXJzLCAgICAgIC8vIE7Dum1lcm8gdG90YWwgZGUgZW50cmVnYWRvc1xuICAgICAgICAgIGRlbGl2ZXJlZFRvZGF5OiBkZWxpdmVyZWRUb2RheSAgICAgICAgIC8vIE7Dum1lcm8gZGUgZW50cmVnYWRvcyBob3lcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJzOiByZWFkeU9yZGVyc0xpc3RcbiAgICAgIH0pXG4gICAgfSBcbiAgICBlbHNlIGlmICh1c2VyUm9sZSA9PT0gJ1NUQUZGJykge1xuICAgICAgLy8gUGFyYSBjYWphOiBwZWRpZG9zIHBlbmRpZW50ZXMgZGUgcGFnbyB5IHJlc3VtZW4gZGUgdmVudGFzXG4gICAgICBjb25zdCBwZW5kaW5nUGF5bWVudE9yZGVycyA9IGF3YWl0IHByaXNtYS5vcmRlci5maW5kTWFueSh7XG4gICAgICAgIHdoZXJlOiB7XG4gICAgICAgICAgc3RhdHVzOiAnUEVORElORydcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJCeTogeyBjcmVhdGVkQXQ6ICdhc2MnIH0sXG4gICAgICAgIGluY2x1ZGU6IHtcbiAgICAgICAgICBpdGVtczoge1xuICAgICAgICAgICAgaW5jbHVkZToge1xuICAgICAgICAgICAgICBwcm9kdWN0OiB0cnVlXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KVxuXG4gICAgICAvLyBWZW50YXMgZGVsIGTDrWFcbiAgICAgIGNvbnN0IHRvZGF5ID0gbmV3IERhdGUoKVxuICAgICAgdG9kYXkuc2V0SG91cnMoMCwgMCwgMCwgMClcbiAgICAgIFxuICAgICAgY29uc3QgdG9kYXlTYWxlcyA9IGF3YWl0IHByaXNtYS5vcmRlci5hZ2dyZWdhdGUoe1xuICAgICAgICB3aGVyZToge1xuICAgICAgICAgIGNyZWF0ZWRBdDoge1xuICAgICAgICAgICAgZ3RlOiB0b2RheVxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3RhdHVzOiB7XG4gICAgICAgICAgICBpbjogWydQQUlEJywgJ1BSRVBBUklORycsICdSRUFEWScsICdERUxJVkVSRUQnXVxuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgX3N1bToge1xuICAgICAgICAgIHRvdGFsOiB0cnVlXG4gICAgICAgIH1cbiAgICAgIH0pXG5cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7XG4gICAgICAgIHJvbGU6IHVzZXJSb2xlLFxuICAgICAgICBzdGF0czoge1xuICAgICAgICAgIHBlbmRpbmdPcmRlcnMsXG4gICAgICAgICAgdG90YWxPcmRlcnMsXG4gICAgICAgICAgdG9kYXlTYWxlczogdG9kYXlTYWxlcy5fc3VtLnRvdGFsIHx8IDAsXG4gICAgICAgICAgdG90YWxTYWxlczogdG90YWxTYWxlcy5fc3VtLnRvdGFsIHx8IDBcbiAgICAgICAgfSxcbiAgICAgICAgb3JkZXJzOiBwZW5kaW5nUGF5bWVudE9yZGVyc1xuICAgICAgfSlcbiAgICB9IFxuICAgIGVsc2Uge1xuICAgICAgLy8gUm9sIG5vIHJlY29ub2NpZG9cbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnUm9sIG5vIGF1dG9yaXphZG8nIH0sIHsgc3RhdHVzOiA0MDMgfSlcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZW4gZGFzaGJvYXJkOicsIGVycm9yKVxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbih7IGVycm9yOiAnRXJyb3IgaW50ZXJubyBkZWwgc2Vydmlkb3InIH0sIHsgc3RhdHVzOiA1MDAgfSlcbiAgfVxufVxuIl0sIm5hbWVzIjpbIk5leHRSZXNwb25zZSIsIlByaXNtYUNsaWVudCIsImp3dCIsInByaXNtYSIsIkpXVF9TRUNSRVQiLCJwcm9jZXNzIiwiZW52IiwiR0VUIiwicmVxdWVzdCIsImF1dGhIZWFkZXIiLCJoZWFkZXJzIiwiZ2V0Iiwic3RhcnRzV2l0aCIsImpzb24iLCJlcnJvciIsInN0YXR1cyIsInRva2VuIiwic3BsaXQiLCJkZWNvZGVkIiwidmVyaWZ5IiwidXNlclJvbGUiLCJyb2xlIiwidG90YWxPcmRlcnMiLCJvcmRlciIsImNvdW50IiwicGVuZGluZ09yZGVycyIsIndoZXJlIiwicHJlcGFyaW5nT3JkZXJzIiwicmVhZHlPcmRlcnMiLCJkZWxpdmVyZWRPcmRlcnMiLCJ0b3RhbFNhbGVzIiwiYWdncmVnYXRlIiwiX3N1bSIsInRvdGFsIiwicmVjZW50T3JkZXJzIiwiZmluZE1hbnkiLCJ0YWtlIiwib3JkZXJCeSIsImNyZWF0ZWRBdCIsImluY2x1ZGUiLCJpdGVtcyIsInByb2R1Y3QiLCJ0b3BQcm9kdWN0cyIsIm9yZGVySXRlbSIsImdyb3VwQnkiLCJieSIsInF1YW50aXR5IiwicHJvZHVjdElkcyIsIm1hcCIsIml0ZW0iLCJwcm9kdWN0SWQiLCJwcm9kdWN0RGV0YWlscyIsImlkIiwiaW4iLCJ0b3BQcm9kdWN0c1dpdGhEZXRhaWxzIiwiZmluZCIsInAiLCJuYW1lIiwicHJpY2UiLCJzdGF0cyIsInBlbmRpbmdBbmRQcmVwYXJpbmdPcmRlcnMiLCJvcmRlcnMiLCJyZWFkeU9yZGVyc0xpc3QiLCJhbGxEZWxpdmVyZWRPcmRlcnMiLCJzZWxlY3QiLCJ1cGRhdGVkQXQiLCJjb25zb2xlIiwibG9nIiwiSlNPTiIsInN0cmluZ2lmeSIsInRvZGF5IiwiRGF0ZSIsInN0YXJ0T2ZUb2RheSIsImdldEZ1bGxZZWFyIiwiZ2V0TW9udGgiLCJnZXREYXRlIiwiZGVsaXZlcmVkVG9kYXkiLCJmaWx0ZXIiLCJvcmRlckRhdGUiLCJsZW5ndGgiLCJwZW5kaW5nUGF5bWVudE9yZGVycyIsInNldEhvdXJzIiwidG9kYXlTYWxlcyIsImd0ZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/admin/dashboard/route.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/semver","vendor-chunks/jsonwebtoken","vendor-chunks/lodash.includes","vendor-chunks/jws","vendor-chunks/lodash.once","vendor-chunks/jwa","vendor-chunks/lodash.isinteger","vendor-chunks/ecdsa-sig-formatter","vendor-chunks/lodash.isplainobject","vendor-chunks/ms","vendor-chunks/lodash.isstring","vendor-chunks/lodash.isnumber","vendor-chunks/lodash.isboolean","vendor-chunks/safe-buffer","vendor-chunks/buffer-equal-constant-time"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fadmin%2Fdashboard%2Froute&page=%2Fapi%2Fadmin%2Fdashboard%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fadmin%2Fdashboard%2Froute.ts&appDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CUSER%5CCascadeProjects%5Cchilaquiles-app&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();